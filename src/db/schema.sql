PRAGMA foreign_keys = ON;CREATE TABLE IF NOT EXISTS raw_api_responses (  id INTEGER PRIMARY KEY AUTOINCREMENT,  fetched_at TEXT NOT NULL,  source TEXT NOT NULL,  endpoint TEXT NOT NULL,  payload_json TEXT NOT NULL);CREATE TABLE IF NOT EXISTS products (  product_id INTEGER PRIMARY KEY,  title TEXT NOT NULL,  brand TEXT,  category TEXT,  last_seen_at TEXT NOT NULL);CREATE TABLE IF NOT EXISTS prices_history (  id INTEGER PRIMARY KEY AUTOINCREMENT,  product_id INTEGER NOT NULL,  fetched_at TEXT NOT NULL,  price REAL NOT NULL,  currency TEXT NOT NULL DEFAULT 'USD',  FOREIGN KEY(product_id) REFERENCES products(product_id));CREATE TABLE IF NOT EXISTS chat_settings (  chat_id INTEGER PRIMARY KEY,  default_threshold_percent REAL NOT NULL DEFAULT 5,  updated_at TEXT NOT NULL);CREATE TABLE IF NOT EXISTS subscriptions (  id INTEGER PRIMARY KEY AUTOINCREMENT,  chat_id INTEGER NOT NULL,  product_id INTEGER NOT NULL,  threshold_percent REAL NOT NULL DEFAULT 5,  is_active INTEGER NOT NULL DEFAULT 1,  created_at TEXT NOT NULL,  UNIQUE(chat_id, product_id),  FOREIGN KEY(product_id) REFERENCES products(product_id));CREATE TABLE IF NOT EXISTS service_runs (  id INTEGER PRIMARY KEY AUTOINCREMENT,  started_at TEXT NOT NULL,  finished_at TEXT NOT NULL,  status TEXT NOT NULL,  error_text TEXT);CREATE INDEX IF NOT EXISTS idx_prices_history_product_timeON prices_history(product_id, fetched_at);CREATE INDEX IF NOT EXISTS idx_subscriptions_chat_activeON subscriptions(chat_id, is_active);  